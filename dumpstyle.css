:root {
	--dumpprogress-barwidth: 1.2em;
	--mem-green: #83c53d;
	--mem-red: #ff756b;
	--mem-yellow: #ffc001;
	--mem-darkblue: #2b3648;
	--mem-lightblue: #b9d7e3;
	--mem-darkerblue: #555e7d;
}

#MemDump_progressContainer {
	width: 100%;
	position: relative;
	background: var(--mem-darkblue);
	transition: height 1s;
	overflow-y: hidden;
}
#MemDump_progressContainer::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(#eee 0, #fff calc(.15 * var(--dumpprogress-barwidth)), #fff calc(.58 * var(--dumpprogress-barwidth)), #ccc var(--dumpprogress-barwidth));
  mix-blend-mode: multiply;
}

@keyframes bar-expand {
	0%   {height: 0em;}
	100% {height: var(--dumpprogress-barwidth);}
}

div[id^="MemDump_progress-"] {
	height: var(--dumpprogress-barwidth);	
	animation: bar-expand .25s ease-out forwards;
	left: 0;
	top: 0;
}
div[id^="MemDump_progress-media"] {
	background: var(--mem-yellow);
}
div[id^="MemDump_progress-thread"] {
	background: var(--mem-lightblue);
}
div[id^="MemDump_progress-"] {
	transition: width .5s;
}
div[id^="MemDump_progress-"].abrupt {
	transition: width .1s;
}
div[id^="MemDump_progress-"]:not(:only-child):not(:has(+ #MemDump_progress-media))::after {
	position: relative;
	bottom: 5px;
	content: attr(course-name);
	font-family: "Arial", sans-serif;
	font-size: 10px;
	left: 1em;
	text-shadow: 1px 1px 2px #000000, 1px 1px 2px #00000055, 0px 0px 1px #000000;
}
div[id^="MemDump_progress-"].off:not(:only-child):not(:has(+ #MemDump_progress-media)) {
	animation: bar-expand 0.30s ease-out reverse forwards;
	overflow-y: hidden;
}

div#MemDump_progress-batch {
	background: var(--mem-darkerblue);
}


/* ----------------------- old styles ----------------------- */


#dumpprogress.done {
	background: var(--mem-green);
	height: var(--dumpprogress-barwidth);
}
#dumpprogress.halfdone {
	height: var(--dumpprogress-barwidth);
}
#dumpprogress.stopped {
	filter: grayscale(100%);
}
#dumpprogress.error {
	background: var(--mem-red) !important;
}
#dumpprogress.error * {
	opacity: 0.1;
}

.done .scanprogress,
.done #downprogress {
	display: none;
}